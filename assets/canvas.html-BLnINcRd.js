import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{a as h,e as s,b as t,f as a,c as e,g as k,r as p,o as r}from"./app-3VaOvlUj.js";const d={};function B(A,i){const l=p("RouteLink");return r(),h("div",null,[i[2]||(i[2]=s(`<ul><li><a href="#%E9%AB%98%E5%AE%BD%E6%8C%87%E5%AE%9A%E5%8F%98%E5%BD%A2%E6%83%85%E5%86%B5">高宽指定、变形情况</a></li><li><a href="#%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%E8%BD%AE%E5%BB%93-stroke">绘制图形轮廓 stroke</a></li><li><a href="#%E7%BB%8F%E9%AA%8C---%E9%A5%BC%E5%9B%BE%E7%BB%9F%E8%AE%A1%E7%BA%BF%E6%9C%AB%E7%AB%AF%E8%BD%AC%E6%8A%98">经验 - 饼图统计，线末端转折</a></li><li><a href="#%E7%BB%8F%E9%AA%8C---%E7%BB%9F%E8%AE%A1%E7%94%BB%E8%BD%B4%E7%94%BB%E7%BD%91%E6%A0%BC%E5%AE%9E%E7%8E%B0">经验 - 统计，画轴，画网格，实现</a></li><li><a href="#%E7%BB%8F%E9%AA%8C---%E7%94%BB%E7%AC%94%E6%95%88%E6%9E%9C%E5%AE%9E%E7%8E%B0">经验 - 画笔效果，实现</a></li><li><a href="#%E7%94%BB%E7%BA%BF">画线</a><ul><li><a href="#1px-%E7%9C%8B%E6%98%AF%E5%8E%BB%E6%9C%89-2px">1px 看是去有 2px</a></li></ul></li><li><a href="#canvasdrawimage">canvas.drawImage</a><ul><li><a href="#%E8%AF%AD%E6%B3%95">语法：</a></li><li><a href="#%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98">兼容问题：</a></li></ul></li><li><a href="#%E7%94%BB%E5%9C%86-%E7%94%BB%E5%BC%A7">画圆 画弧</a><ul><li><a href="#mdn-%E6%96%87%E6%A1%A3%E5%8F%82%E8%80%83">MDN 文档参考</a></li><li><a href="#%E7%94%BB%E5%9C%86%E5%BC%A7%E7%BA%BF%E6%9D%A1%E5%AE%9E%E7%8E%B0%E8%BF%9B%E5%BA%A6%E6%9D%A1">画圆弧线条。实现进度条</a></li></ul></li><li><a href="#toblob">toBlob</a></li><li><a href="#%E8%A3%81%E5%9B%BE%E5%AE%9E%E7%8E%B0">裁图实现</a></li><li><a href="#todataurl---base64">toDataURL - base64</a></li></ul><h2 id="高宽指定、变形情况" tabindex="-1"><a class="header-anchor" href="#高宽指定、变形情况"><span>高宽指定、变形情况</span></a></h2><p>style ：拉伸尺寸<br> 标签属性：像素尺寸</p><p>指定 css width height 将是拉伸放大 canvas，并未改变 canvas 本质高宽。比如我画一个圆 ctx.arc(300, 150, 20, 0, 2 * Math.PI); 如果是放大 2 倍，那么可以 xy 参数就会是 600,300 的位置了。要改变本质高宽须通过设置标签属性</p><h2 id="绘制图形轮廓-stroke" tabindex="-1"><a class="header-anchor" href="#绘制图形轮廓-stroke"><span>绘制图形轮廓 stroke</span></a></h2><h2 id="经验-饼图统计-线末端转折" tabindex="-1"><a class="header-anchor" href="#经验-饼图统计-线末端转折"><span>经验 - 饼图统计，线末端转折</span></a></h2><p>根据线所在圆的角度判断即可</p><h2 id="经验-统计-画轴-画网格-实现" tabindex="-1"><a class="header-anchor" href="#经验-统计-画轴-画网格-实现"><span>经验 - 统计，画轴，画网格，实现</span></a></h2><p>其实只算出刻度数据即可</p><p>x 轴，算 y 刻度</p><p>y 轴，算 x 刻度</p><p>然后再根据刻度数据画轴，画网格，数据与视图分离</p><h2 id="经验-画笔效果-实现" tabindex="-1"><a class="header-anchor" href="#经验-画笔效果-实现"><span>经验 - 画笔效果，实现</span></a></h2><p>首先是移动轨迹的所有点。也就是监听移动事件，这里可以知道移动轨迹的所有点。</p><p>然后用 lineTo 连接即可。</p><p>边触发边连接</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 此处代码来自 wechat 小程序</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> touchstart</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> touch</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">changedTouches</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  startX</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> touch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">x</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dpr</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  startY</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> touch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">y</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dpr</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">moveTo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">startX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">startY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> touchmove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> touch</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">changedTouches</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  currentX</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> touch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">x</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dpr</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  currentY</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> touch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">y</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dpr</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lineTo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">currentX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">currentY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stroke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="画线" tabindex="-1"><a class="header-anchor" href="#画线"><span>画线</span></a></h2><h3 id="_1px-看是去有-2px" tabindex="-1"><a class="header-anchor" href="#_1px-看是去有-2px"><span>1px 看是去有 2px</span></a></h3><p>画线的坐标参数，是从两个像素之间开始算的，由于抗锯齿，所以看上去是 2px</p><p><strong>坐标起始位置，0 位置</strong>：canvas 边框内边边缘</p><p>所以要画出 1px 的线，需要给坐标加 0.5。下例将画出紧贴内边(真正的 0 起始)1px 的线</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">beginPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> y</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0.5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">moveTo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">y</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lineTo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">300</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">y</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stroke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="canvas-drawimage" tabindex="-1"><a class="header-anchor" href="#canvas-drawimage"><span>canvas.drawImage</span></a></h2><p>提供直接绘制图片的功能，支持直接写其他 canvas</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法：</span></a></h3><p>canvas.drawImage(image, dx, dy)</p><h3 id="兼容问题" tabindex="-1"><a class="header-anchor" href="#兼容问题"><span>兼容问题：</span></a></h3><p><strong>浏览器：</strong> Android webkit 53.30 v4.0</p><p><strong>image 参数</strong></p><ul><li>是另一个 canvas，则必须加到页面才能成功绘制。</li><li>是 img 元素，src 是 base 64，好像也无法绘制(待确定)</li></ul><h2 id="画圆-画弧" tabindex="-1"><a class="header-anchor" href="#画圆-画弧"><span>画圆 画弧</span></a></h2><h3 id="mdn-文档参考" tabindex="-1"><a class="header-anchor" href="#mdn-文档参考"><span>MDN 文档参考</span></a></h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Applying_styles_and_colors" target="_blank" rel="noopener noreferrer">线条、填充样式颜色 API</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/arc" target="_blank" rel="noopener noreferrer">圆弧 API</a></p><h3 id="画圆弧线条。实现进度条" tabindex="-1"><a class="header-anchor" href="#画圆弧线条。实现进度条"><span>画圆弧线条。实现进度条</span></a></h3><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> canvas</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getElementById</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;canvas&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ctx</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getContext</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2d&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">strokeStyle</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;red&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lineWidth</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 6</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lineCap</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;round&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // 末端样式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">beginPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 右边x轴开始画，也就是参数所示，画的起始点是 x100, y50</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 参数依次是：圆心x, 圆心y, r, 起始弧度, 结束弧度, 默认顺时针</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">arc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.3</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">PI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.6</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">PI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stroke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="toblob" tabindex="-1"><a class="header-anchor" href="#toblob"><span>toBlob</span></a></h2><p>转 blob 后可直接上传到服务器</p>`,39)),t("p",null,[i[1]||(i[1]=a("更多见 ")),e(l,{to:"/__old__/03_html/#/1/29"},{default:k(()=>i[0]||(i[0]=[a("h5 文件系统 FileSystem API")])),_:1})]),i[3]||(i[3]=s(`<h2 id="裁图实现" tabindex="-1"><a class="header-anchor" href="#裁图实现"><span>裁图实现</span></a></h2><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> cvs</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;canvas&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> ctx</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> cvs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getContext</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2d&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 裁图选择框大小</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">cvs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> selectRectWdith</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">cvs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> selectRectHeight</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 裁图，x, y 参数用来隐藏左上区域</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ctx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">drawImage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="todataurl-base64" tabindex="-1"><a class="header-anchor" href="#todataurl-base64"><span>toDataURL - base64</span></a></h2><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">src</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> canvas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toDataURL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,4))])}const c=n(d,[["render",B],["__file","canvas.html.vue"]]),y=JSON.parse('{"path":"/old__/03_html/canvas.html","title":"","lang":"zh-CN","frontmatter":{"description":"高宽指定、变形情况 绘制图形轮廓 stroke 经验 - 饼图统计，线末端转折 经验 - 统计，画轴，画网格，实现 经验 - 画笔效果，实现 画线 1px 看是去有 2px canvas.drawImage 语法： 兼容问题： 画圆 画弧 MDN 文档参考 画圆弧线条。实现进度条 toBlob 裁图实现 toDataURL - base64","head":[["meta",{"property":"og:url","content":"http://docs.cqlql.top/old__/03_html/canvas.html"}],["meta",{"property":"og:site_name","content":"开发笔记"}],["meta",{"property":"og:description","content":"高宽指定、变形情况 绘制图形轮廓 stroke 经验 - 饼图统计，线末端转折 经验 - 统计，画轴，画网格，实现 经验 - 画笔效果，实现 画线 1px 看是去有 2px canvas.drawImage 语法： 兼容问题： 画圆 画弧 MDN 文档参考 画圆弧线条。实现进度条 toBlob 裁图实现 toDataURL - base64"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-28T02:50:25.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-28T02:50:25.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-28T02:50:25.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"桥黎\\",\\"url\\":\\"\\"}]}"]]},"headers":[{"level":2,"title":"高宽指定、变形情况","slug":"高宽指定、变形情况","link":"#高宽指定、变形情况","children":[]},{"level":2,"title":"绘制图形轮廓 stroke","slug":"绘制图形轮廓-stroke","link":"#绘制图形轮廓-stroke","children":[]},{"level":2,"title":"经验 - 饼图统计，线末端转折","slug":"经验-饼图统计-线末端转折","link":"#经验-饼图统计-线末端转折","children":[]},{"level":2,"title":"经验 - 统计，画轴，画网格，实现","slug":"经验-统计-画轴-画网格-实现","link":"#经验-统计-画轴-画网格-实现","children":[]},{"level":2,"title":"经验 - 画笔效果，实现","slug":"经验-画笔效果-实现","link":"#经验-画笔效果-实现","children":[]},{"level":2,"title":"画线","slug":"画线","link":"#画线","children":[{"level":3,"title":"1px 看是去有 2px","slug":"_1px-看是去有-2px","link":"#_1px-看是去有-2px","children":[]}]},{"level":2,"title":"canvas.drawImage","slug":"canvas-drawimage","link":"#canvas-drawimage","children":[{"level":3,"title":"语法：","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"兼容问题：","slug":"兼容问题","link":"#兼容问题","children":[]}]},{"level":2,"title":"画圆 画弧","slug":"画圆-画弧","link":"#画圆-画弧","children":[{"level":3,"title":"MDN 文档参考","slug":"mdn-文档参考","link":"#mdn-文档参考","children":[]},{"level":3,"title":"画圆弧线条。实现进度条","slug":"画圆弧线条。实现进度条","link":"#画圆弧线条。实现进度条","children":[]}]},{"level":2,"title":"toBlob","slug":"toblob","link":"#toblob","children":[]},{"level":2,"title":"裁图实现","slug":"裁图实现","link":"#裁图实现","children":[]},{"level":2,"title":"toDataURL - base64","slug":"todataurl-base64","link":"#todataurl-base64","children":[]}],"git":{"createdTime":1652927496000,"updatedTime":1730083825000,"contributors":[{"name":"陈桥黎","email":"cql.ql@qq.com","commits":1}]},"readingTime":{"minutes":2.73,"words":820},"filePathRelative":"__old__/03_html/canvas.md","localizedDate":"2022年5月19日","autoDesc":true,"excerpt":"<ul>\\n<li><a href=\\"#%E9%AB%98%E5%AE%BD%E6%8C%87%E5%AE%9A%E5%8F%98%E5%BD%A2%E6%83%85%E5%86%B5\\">高宽指定、变形情况</a></li>\\n<li><a href=\\"#%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%E8%BD%AE%E5%BB%93-stroke\\">绘制图形轮廓 stroke</a></li>\\n<li><a href=\\"#%E7%BB%8F%E9%AA%8C---%E9%A5%BC%E5%9B%BE%E7%BB%9F%E8%AE%A1%E7%BA%BF%E6%9C%AB%E7%AB%AF%E8%BD%AC%E6%8A%98\\">经验 - 饼图统计，线末端转折</a></li>\\n<li><a href=\\"#%E7%BB%8F%E9%AA%8C---%E7%BB%9F%E8%AE%A1%E7%94%BB%E8%BD%B4%E7%94%BB%E7%BD%91%E6%A0%BC%E5%AE%9E%E7%8E%B0\\">经验 - 统计，画轴，画网格，实现</a></li>\\n<li><a href=\\"#%E7%BB%8F%E9%AA%8C---%E7%94%BB%E7%AC%94%E6%95%88%E6%9E%9C%E5%AE%9E%E7%8E%B0\\">经验 - 画笔效果，实现</a></li>\\n<li><a href=\\"#%E7%94%BB%E7%BA%BF\\">画线</a>\\n<ul>\\n<li><a href=\\"#1px-%E7%9C%8B%E6%98%AF%E5%8E%BB%E6%9C%89-2px\\">1px 看是去有 2px</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"#canvasdrawimage\\">canvas.drawImage</a>\\n<ul>\\n<li><a href=\\"#%E8%AF%AD%E6%B3%95\\">语法：</a></li>\\n<li><a href=\\"#%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98\\">兼容问题：</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"#%E7%94%BB%E5%9C%86-%E7%94%BB%E5%BC%A7\\">画圆 画弧</a>\\n<ul>\\n<li><a href=\\"#mdn-%E6%96%87%E6%A1%A3%E5%8F%82%E8%80%83\\">MDN 文档参考</a></li>\\n<li><a href=\\"#%E7%94%BB%E5%9C%86%E5%BC%A7%E7%BA%BF%E6%9D%A1%E5%AE%9E%E7%8E%B0%E8%BF%9B%E5%BA%A6%E6%9D%A1\\">画圆弧线条。实现进度条</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"#toblob\\">toBlob</a></li>\\n<li><a href=\\"#%E8%A3%81%E5%9B%BE%E5%AE%9E%E7%8E%B0\\">裁图实现</a></li>\\n<li><a href=\\"#todataurl---base64\\">toDataURL - base64</a></li>\\n</ul>"}');export{c as comp,y as data};
