import{_ as o,Z as p,$ as l,a0 as n,a1 as s,Y as e,a2 as t,E as c}from"./framework-d33190a3.js";const i={},r=n("h2",{id:"node-服务启动框架",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#node-服务启动框架","aria-hidden":"true"},"#"),s(" node 服务启动框架")],-1),u=n("p",null,"https://blog.csdn.net/maquealone/article/details/79550120",-1),d=n("p",null,"https://www.cnblogs.com/zhoujie/p/nodejs4.html",-1),m=n("p",null,"https://www.cnblogs.com/chris-oil/p/6239097.html",-1),h={id:"pm2-进程管理工具-生产环境",tabindex:"-1"},k=n("a",{class:"header-anchor",href:"#pm2-进程管理工具-生产环境","aria-hidden":"true"},"#",-1),v={href:"https://github.com/Unitech/pm2",target:"_blank",rel:"noopener noreferrer"},_=n("p",null,"适用于网站访问量比较大,需要完整的监控界面",-1),b=n("p",null,"支持异常自动重启",-1),q=n("p",null,"运行管理多个进程程序",-1),g={href:"https://pm2.io/doc/en/runtime/guide/process-management/?utm_source=github#manage-any-application-type",target:"_blank",rel:"noopener noreferrer"},f=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 运行js</span>
pm2 start app.js
<span class="token comment"># 支持命令</span>
pm2 start http-server -- /usr/website
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="使用配置文件启动" tabindex="-1"><a class="header-anchor" href="#使用配置文件启动" aria-hidden="true">#</a> 使用配置文件启动</h4>`,2),x={href:"https://www.cnblogs.com/chyingp/p/pm2-documentation.html",target:"_blank",rel:"noopener noreferrer"},y=t(`<p>pm2.config.json</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span>        <span class="token operator">:</span> <span class="token string">&quot;nginx&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 应用名称</span>
  <span class="token property">&quot;script&quot;</span>      <span class="token operator">:</span> <span class="token string">&quot;./nginx.exe&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 实际启动脚本</span>
  <span class="token property">&quot;cwd&quot;</span>         <span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 当前工作路径</span>
  <span class="token property">&quot;watch&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 监控变化的目录，一旦变化，自动重启</span>
    <span class="token string">&quot;conf&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ignore_watch&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 从监控目录中排除</span>
    <span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> 
    <span class="token string">&quot;logs&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;public&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;watch_options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;followSymlinks&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;error_file&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;./logs/app-err.log&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 错误日志路径</span>
  <span class="token property">&quot;out_file&quot;</span>   <span class="token operator">:</span> <span class="token string">&quot;./logs/app-out.log&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 普通日志路径</span>
  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;NODE_ENV&quot;</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span> <span class="token comment">// 环境参数，当前指定为生产环境</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nodemon-开发环境" tabindex="-1"><a class="header-anchor" href="#nodemon-开发环境" aria-hidden="true">#</a> nodemon - 开发环境</h3><p>支持修改自动重启</p><h3 id="其他启动框架" tabindex="-1"><a class="header-anchor" href="#其他启动框架" aria-hidden="true">#</a> 其他启动框架</h3><ol><li>supervisor 是开发环境用。Python(2.4+) 开发的</li><li>forever 管理多个站点，每个站点访问量不大，不需要监控。</li><li>node-dev</li></ol>`,6);function w(j,E){const a=c("ExternalLinkIcon");return p(),l("div",null,[r,u,d,m,n("h3",h,[k,s(),n("a",v,[s("pm2 进程管理工具"),e(a)]),s(" - 生产环境")]),_,b,q,n("p",null,[s("除了nodejs，还"),n("a",g,[s("支持其他语言程序"),e(a)])]),f,n("p",null,[n("a",x,[s("参考文档"),e(a)])]),y])}const V=o(i,[["render",w],["__file","服务端部署.html.vue"]]);export{V as default};
