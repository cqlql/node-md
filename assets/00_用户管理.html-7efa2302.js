import{_ as t,Z as l,$ as o,a0 as s,a1 as n,Y as e,a2 as r,E as p}from"./framework-d33190a3.js";const i={},c=r(`<h2 id="登录并进入-mysql-以进行-sql-操作" tabindex="-1"><a class="header-anchor" href="#登录并进入-mysql-以进行-sql-操作" aria-hidden="true">#</a> 登录并进入 mysql，以进行 sql 操作</h2><p>语法：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql -u<span class="token punctuation">(</span>username<span class="token punctuation">)</span> -p<span class="token punctuation">[</span>密码<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>例子：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 稍后输入密码，密码不会明文显示，推荐方式</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>

<span class="token comment"># 直接带明文密码，不安全</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123123</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改用户-host" tabindex="-1"><a class="header-anchor" href="#修改用户-host" aria-hidden="true">#</a> 修改用户 host</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">use</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">&#39;%&#39;</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span> <span class="token string">&#39;root&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看所有用户" tabindex="-1"><a class="header-anchor" href="#查看所有用户" aria-hidden="true">#</a> 查看所有用户</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">,</span>host <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="新建用户" tabindex="-1"><a class="header-anchor" href="#新建用户" aria-hidden="true">#</a> 新建用户</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;joly&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&quot;新密码&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- \`identified by\` 不带则不给密码</span>
<span class="token comment">-- \`%\` 表示所有 host 都能访问，可以指定为 \`localhost\` 只能本地访问</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户" aria-hidden="true">#</a> 删除用户</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>DROP USER &#39;jack&#39;@&#39;localhost&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="修改密码" tabindex="-1"><a class="header-anchor" href="#修改密码" aria-hidden="true">#</a> 修改密码</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> authentication_string<span class="token operator">=</span>password<span class="token punctuation">(</span><span class="token string">&quot;新密码&quot;</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span> <span class="token comment"># 更新改变。否则可能要重启mysql</span>

<span class="token comment"># 上面修改失败时，则使用下面方法</span>
<span class="token keyword">use</span> mysql；
<span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&quot;root&quot;</span><span class="token variable">@&quot;localhost&quot;</span> identified <span class="token keyword">with</span> mysql_native_password <span class="token keyword">by</span> <span class="token string">&quot;新密码&quot;</span><span class="token punctuation">;</span>
flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="权限" tabindex="-1"><a class="header-anchor" href="#权限" aria-hidden="true">#</a> 权限</h2><h3 id="查看用户权限" tabindex="-1"><a class="header-anchor" href="#查看用户权限" aria-hidden="true">#</a> 查看用户权限</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;joly&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="分配权限" tabindex="-1"><a class="header-anchor" href="#分配权限" aria-hidden="true">#</a> 分配权限</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 给 joly 分配所有权限</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;joly&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 给 joly 分配 db_user 数据库的所有权限</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> db_user<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;joly&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="回收权限" tabindex="-1"><a class="header-anchor" href="#回收权限" aria-hidden="true">#</a> 回收权限</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>revoke all on <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;test&#39;</span>@<span class="token string">&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令" aria-hidden="true">#</a> 常用命令</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>

<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> <span class="token keyword">temp</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;test&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档" aria-hidden="true">#</a> 参考文档</h2>`,25),d={href:"http://c.biancheng.net/mysql/100",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.php.cn/mysql-tutorials-460350.html",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.jb51.net/article/203517.htm",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.cnblogs.com/liuhaidon/archive/2019/10/31/11772879.html",target:"_blank",rel:"noopener noreferrer"};function v(m,b){const a=p("ExternalLinkIcon");return l(),o("div",null,[c,s("p",null,[s("a",d,[n("MySQL 用户管理"),e(a)])]),s("p",null,[s("a",u,[n("mysql 怎么给用户加权限-mysql 教程-PHP 中文网"),e(a)])]),s("p",null,[s("a",k,[n("忘记密码，修改 root 密码"),e(a)])]),s("p",null,[s("a",h,[n("Mysql—修改用户密码（重置密码）"),e(a)])])])}const g=t(i,[["render",v],["__file","00_用户管理.html.vue"]]);export{g as default};
