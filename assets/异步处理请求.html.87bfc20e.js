import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,a as c,b as n,e as a,c as t,f as o,r as l}from"./app.3470b3c0.js";const i={},u=o(`<h2 id="\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u8BF4\u660E" aria-hidden="true">#</a> \u8BF4\u660E</h2><p>asp.net \u5904\u7406\u8BF7\u6C42\uFF0C\u4F1A\u901A\u8FC7\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u5904\u7406\uFF0C\u6240\u4EE5\u672C\u8EAB\u5C31\u662F\u5F02\u6B65\u7684\u3002</p><p>\u4F46\u4F9D\u7136\u652F\u6301 async \u63A7\u5236\u5668\u5199\u6CD5:</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>IHttpActionResult<span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Thing<span class="token punctuation">&gt;</span></span> things <span class="token operator">=</span> <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">DoLongDbCall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">Ok</span><span class="token punctuation">(</span>things<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BF7\u6C42\u8FDB\u6765\uFF0C\u6293\u53D6\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u5904\u7406\u8BF7\u6C42\uFF0C\u518D\u6293\u53D6\u4E00\u4E2A\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u5F00\u59CB\u5904\u7406\u5DE5\u4F5C\u4EFB\u52A1\uFF0C\u91CA\u653E\u5904\u7406\u8BF7\u6C42\u7684\u7EBF\u7A0B\uFF0C\u5DE5\u4F5C\u5B8C\u6210\u4E86\u518D\u6293\u53D6\u7EBF\u7A0B\u6765\u5B8C\u6210\u8BF7\u6C42\u3002</p><p>\u8FD9\u91CC\u5904\u7406\u8BF7\u6C42\u7528\u4E86\u4E24\u4E2A\u7EBF\u7A0B\uFF0C\u7B49\u4E8E\u4EFB\u52A1\u7ED9\u4E86\u53E6\u4E00\u4E2A\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u6765\u5B8C\u6210\uFF0C\u591A\u4E86\u4E2A\u8F6C\u6362\u5F00\u9500\uFF0C\u6240\u4EE5\u4E0D\u63A8\u8350\u4F7F\u7528 Task.Run \u4EE3\u7801\u5F3A\u5236\u8FDB\u884C\u989D\u5916\u7684\u7EBF\u7A0B\u8F6C\u6362\u3002</p><p>\u9664\u975E\u662F\u5F02\u6B65\u8C03\u7528\u5176\u4ED6\u8D44\u6E90\uFF0C\u6BD4\u5982\u5F02\u6B65 BD \u8C03\u7528\uFF1A</p><div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>IHttpActionResult<span class="token punctuation">&gt;</span></span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>Thing<span class="token punctuation">&gt;</span></span> things <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">DoLongDbCallAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">Ok</span><span class="token punctuation">(</span>things<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BF7\u6C42\u8FDB\u6765\uFF0C\u6293\u53D6\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u5904\u7406\u8BF7\u6C42\uFF0C\u542F\u52A8\u5F02\u6B65BD\u64CD\u4F5C\uFF0C\u5E76\u5C06\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u8FD4\u56DE\u7ED9\u7EBF\u7A0B\u6C60\u3002\u5F53BD\u8C03\u7528\u5B8C\u540E\uFF0Caps.net \u4F1A\u6293\u53D6\u8981\u7ED9\u7EBF\u7A0B\u6C60\u7EBF\u7A0B\u5B8C\u5168\u8BF7\u6C42\u3002</p><h2 id="\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> \u53C2\u8003\u6587\u6863</h2>`,10),r={href:"https://www.coder.work/article/2959487",target:"_blank",rel:"noopener noreferrer"},k={href:"https://stackoverflow.com/questions/30864247/async-calls-in-web-api",target:"_blank",rel:"noopener noreferrer"};function d(h,m){const s=l("ExternalLinkIcon");return p(),c("div",null,[u,n("p",null,[n("a",r,[a("c# - Web Api \u4E2D\u7684\u5F02\u6B65\u8C03\u7528 - IT\u5DE5\u5177\u7F51 (coder.work)"),t(s)])]),n("p",null,[n("a",k,[a("c# - Async calls in Web Api - Stack Overflow"),t(s)])])])}const _=e(i,[["render",d],["__file","\u5F02\u6B65\u5904\u7406\u8BF7\u6C42.html.vue"]]);export{_ as default};
