import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{a as e,e as a,o as n}from"./app-TPYStmF-.js";const l={};function t(p,s){return n(),e("div",null,s[0]||(s[0]=[a(`<h2 id="vue-loader-问题" tabindex="-1"><a class="header-anchor" href="#vue-loader-问题"><span>vue-loader 问题</span></a></h2><h3 id="使用-postcss-时-不能直接使用-plugins-选项-需使用-postcss-config-js-文件" tabindex="-1"><a class="header-anchor" href="#使用-postcss-时-不能直接使用-plugins-选项-需使用-postcss-config-js-文件"><span>使用 postcss 时，不能直接使用 plugins 选项，需使用 postcss.config.js 文件</span></a></h3><h2 id="vue-单文件问题" tabindex="-1"><a class="header-anchor" href="#vue-单文件问题"><span>vue 单文件问题</span></a></h2><h3 id="style-部分无法热更新" tabindex="-1"><a class="header-anchor" href="#style-部分无法热更新"><span>style 部分无法热更新</span></a></h3><p>使用 vue.esm.js 即可</p><h3 id="js-import-方式导入的-css-无效。异步单文件情况" tabindex="-1"><a class="header-anchor" href="#js-import-方式导入的-css-无效。异步单文件情况"><span>js import 方式导入的 css 无效。异步单文件情况</span></a></h3><p>强调，跟提取无关，包括外提取、vue-loader 提取，跟异步有关。<br> 首先异步包 css 无法被提取。不管是 vue-loader 还是外 css loader 提取，提取都无效。<br> 而且单文件 js(import) 归外 css loader 管，如果没有设置 style-loader，将不会被增加。</p><p>注：style 方式正常</p><p>解决，增加<code>fallback: &#39;style-loader&#39;</code>。</p><p>总之，<code>fallback: &#39;style-loader&#39;</code>可用来处理异步包中的 js(import) 导入的 css</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">rules</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    test</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;"> /</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\.</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">css</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">$</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    use</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> ExtractTextPlugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">extract</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      fallback</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;style-loader&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      use</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;css-loader&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;postcss-loader&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="runtime-only-报错" tabindex="-1"><a class="header-anchor" href="#runtime-only-报错"><span>runtime-only 报错</span></a></h2><p>错误信息：<code>[Vue warn]: You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.</code></p><p>不使用 template 选项。或者使用 <code>vue.esm.js</code></p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> App</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;./App.vue&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 正确方式：没有 template</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Vue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">App</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$mount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;#app&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 错误方式</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Vue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  template</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;&lt;App/&gt;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  components</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    App</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$mount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;#app&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vue2-ts-组件用-webpack-打包成模块问题" tabindex="-1"><a class="header-anchor" href="#vue2-ts-组件用-webpack-打包成模块问题"><span>vue2 ts 组件用 webpack 打包成模块问题！</span></a></h2><p>给 Vue.prototype 添加的成员居然在模块中访问不到，而且 Vuex 的 this.$store 也没有，仿佛不是同一个 Vue</p><p>当前环境：<br> vue2 + typescript<br> 导出目标为 commonjs2 或者 umd</p><p>不管用 vue-cli3 还是自己搭建都不行</p><p>尝试解决：</p><ol><li>vue 不打包，使用单独引入方式...依然不行</li><li>导出目标换成 window...居然可行</li></ol><p><strong>20190910 经测试</strong><br> ，只有 typescript 才会，难道是 <code>export default class App extends Vue</code> 语法加上 webpack 模块导出机制引发的问题？而 js vue 组件是不需要在组件内引入 Vue 的，所以才没问题？看来 typescript Vue 支持的确实很差，能不用还是别用</p>`,22)]))}const k=i(l,[["render",t],["__file","各种问题.html.vue"]]),d=JSON.parse('{"path":"/old__/06_vue/vue2/%E5%90%84%E7%A7%8D%E9%97%AE%E9%A2%98.html","title":"","lang":"zh-CN","frontmatter":{"description":"vue-loader 问题 使用 postcss 时，不能直接使用 plugins 选项，需使用 postcss.config.js 文件 vue 单文件问题 style 部分无法热更新 使用 vue.esm.js 即可 js import 方式导入的 css 无效。异步单文件情况 强调，跟提取无关，包括外提取、vue-loader 提取，跟异步有关。...","head":[["meta",{"property":"og:url","content":"http://docs.cqlql.top/old__/06_vue/vue2/%E5%90%84%E7%A7%8D%E9%97%AE%E9%A2%98.html"}],["meta",{"property":"og:site_name","content":"开发笔记"}],["meta",{"property":"og:description","content":"vue-loader 问题 使用 postcss 时，不能直接使用 plugins 选项，需使用 postcss.config.js 文件 vue 单文件问题 style 部分无法热更新 使用 vue.esm.js 即可 js import 方式导入的 css 无效。异步单文件情况 强调，跟提取无关，包括外提取、vue-loader 提取，跟异步有关。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-28T02:50:25.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-28T02:50:25.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-28T02:50:25.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"桥黎\\",\\"url\\":\\"\\"}]}"]]},"headers":[{"level":2,"title":"vue-loader 问题","slug":"vue-loader-问题","link":"#vue-loader-问题","children":[{"level":3,"title":"使用 postcss 时，不能直接使用 plugins 选项，需使用 postcss.config.js 文件","slug":"使用-postcss-时-不能直接使用-plugins-选项-需使用-postcss-config-js-文件","link":"#使用-postcss-时-不能直接使用-plugins-选项-需使用-postcss-config-js-文件","children":[]}]},{"level":2,"title":"vue 单文件问题","slug":"vue-单文件问题","link":"#vue-单文件问题","children":[{"level":3,"title":"style 部分无法热更新","slug":"style-部分无法热更新","link":"#style-部分无法热更新","children":[]},{"level":3,"title":"js import 方式导入的 css 无效。异步单文件情况","slug":"js-import-方式导入的-css-无效。异步单文件情况","link":"#js-import-方式导入的-css-无效。异步单文件情况","children":[]}]},{"level":2,"title":"runtime-only 报错","slug":"runtime-only-报错","link":"#runtime-only-报错","children":[]},{"level":2,"title":"vue2 ts 组件用 webpack 打包成模块问题！","slug":"vue2-ts-组件用-webpack-打包成模块问题","link":"#vue2-ts-组件用-webpack-打包成模块问题","children":[]}],"git":{"createdTime":1652927496000,"updatedTime":1730083825000,"contributors":[{"name":"陈桥黎","email":"cql.ql@qq.com","commits":1}]},"readingTime":{"minutes":1.52,"words":456},"filePathRelative":"__old__/06_vue/vue2/各种问题.md","localizedDate":"2022年5月19日","autoDesc":true,"excerpt":"<h2>vue-loader 问题</h2>\\n<h3>使用 postcss 时，不能直接使用 plugins 选项，需使用 postcss.config.js 文件</h3>\\n<h2>vue 单文件问题</h2>\\n<h3>style 部分无法热更新</h3>\\n<p>使用 vue.esm.js 即可</p>\\n<h3>js import 方式导入的 css 无效。异步单文件情况</h3>\\n<p>强调，跟提取无关，包括外提取、vue-loader 提取，跟异步有关。<br>\\n首先异步包 css 无法被提取。不管是 vue-loader 还是外 css loader 提取，提取都无效。<br>\\n而且单文件 js(import) 归外 css loader 管，如果没有设置 style-loader，将不会被增加。</p>"}');export{k as comp,d as data};
